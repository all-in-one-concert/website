extends neutronjs/page

append head
    title All in one Concert
    link(href='/public/css/bootstrap.css', rel='stylesheet', type='text/css')
    link(href="/public/css/font-awesome.min.css", rel="stylesheet", type="text/css")
    link(href="/public/style.css", rel="stylesheet", type="text/css")
    script(type='text/javascript', src='http://cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js')
    script(type='text/javascript', src='http://netdna.bootstrapcdn.com/bootstrap/3.1.0/js/bootstrap.min.js')


append body
    div
        .navbar.navbar-fixed-top(style={'height':'100px', 'background-color': 'white', '-webkit-box-shadow': '0px 1px 10px 0px rgba(0,0,0,0.25)', 'z-index': 1})
            .container.container-fluid
                .navbar-header
                    a.navbar-brand(style={'margin-top':' -6px', 'color': 'black'})
                        img(src='/public/logo.png', style={'width': '90px'})
                    button.navbar-toggle(type='button', data-toggle='collapse', data-target='.navbar-collapse')
                        span.glyphicon.glyphicon-align-justify(style={color:"red"})
                .collapse.navbar-collapse.navbar-ex1-collapse
                        ul.nav.navbar-nav.navbar-right(style={'margin-top':' 30px;'})
                            li
                                a.active(href='#') Start
                            li
                                a(href='#') Dienstleistungen
                            li
                                a(href='#') Equipment
                            li
                                a(href='#') Blog
                            li
                                a(href='#') Referenzen
                            li
                                a(href='#') Crew
                            li
                                a(href='#') Kontakt
        .main-content
            div(style={'background-color':'#333'})
                .container
                    .row
                        .col-md-12
                            Carousel(style={height:"380px",overflow:"hidden"})
                                CarouselItem
                                    img(src='http://eventlighting.ch/slideshow/1.jpg', width="100%")
                                    .carousel-caption
                                        p(draggable='true') Silvesterparty, Genf, 12.03.2012
                                CarouselItem
                                    img(src='http://eventlighting.ch/slideshow/1.jpg', width="100%")
                                    .carousel-caption
                                        p(draggable='true') Silvesterparty, Genf, 12.03.2012
                                        br
                                        br
            FileManager
            //Tester
            .container
                .jumbotron
                    Component("page"=this,"data"={type:"Text",html:"Hello World!"},ref="dienstleistungen")
            .container(style={'padding-bottom':'50px'})
                .row
                    .col-md-6
                        Component("page"=this,"data"={type:"Text",html:"Hello World!"},ref="dienstleistungen")
                        a.btn.btn-danger(href='# ') Mehr
                        Component("page"=this,"data"={type:"Text",html:"Hello World!"},ref="equipment")
                        a.btn.btn-danger(href='# ') Mehr
                    .col-md-6
                        Component("page"=this,"data"={type:"Text",html:"Hello World!"},ref="blog")
                        a.btn.btn-danger(href='# ') Mehr
        .footer
            .container
                .row
                    .col-md-4
                        a.btn.btn-default
                            span.glyphicon.glyphicon-chevron-up
                            | An den Seitenanfang
                        br
                        br
                        br
                        p
                            | Copyright 2013 All in one Concert GmbH
                            br
                            | Created by cloudstudios.ch
                    .col-md-4(style={'color': 'white'})
                        h4.text-danger
                            | Empfehlen Sie uns!
                        p
                            | Waren Sie zufrieden mit unserem Service?
                            br
                            | Sagen sie es weiter!
                        #share-buttons
                            a(href='http://www.facebook.com/sharer.php?u=http://aioc.ch', target='_blank')
                                img(src='http://www.simplesharebuttons.com/images/somacro/facebook.png', alt='Facebook')
                            a(href='http://twitter.com/share?url=http://aioc.ch&text=All in one Concert', target='_blank')
                                img(src='http://www.simplesharebuttons.com/images/somacro/twitter.png', alt='Twitter')
                            a(href='https://plus.google.com/share?url=http://aioc.ch', target='_blank')
                                img(src='http://www.simplesharebuttons.com/images/somacro/google.png', alt='Google')
                            a(href='mailto:?Subject=All in one Concert&Body=I%20saw%20this%20and%20thought%20of%20you!%20 http://aioc.ch')
                                img(src='http://www.simplesharebuttons.com/images/somacro/email.png', alt='Email')
                    .col-md-4
                        h4.text-danger Kontakt
                        p
                            | Huwilstrasse 7
                            br
                            | 6280Hochdorf
                            br
                            | info@allinone-concert.ch
                            br
                            | www.allinone-concert.ch
main.

    var Component = require("neutronjs").components.Component;
    var FileManager = require("neutronjs").components.FileManager;
    var AdminPanel = require("neutronjs").components.AdminPanel;

    var Carousel = require("react-bootstrap/Carousel");
    var CarouselItem = require("react-bootstrap/CarouselItem");
    var async = require("async");


    exports.saveComponents = function(names,cb){
        var self = this;
        var result = {};
        async.each(names,function(name,cb){
            self.refs[name].save(function(data){
                result[name] = data;
                cb();
            });
        },function(){
            cb(result);
        });
    }


    exports.save = function(cb){
        this.saveComponents(["dienstleistungen","equipment","blog"],function(data){
            cb(data);
        });
    }
